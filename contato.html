<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Contato</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
  <form id="form-contato">
    <input type="text" name="user_name" placeholder="Seu nome" required>
    <input type="email" name="user_email" placeholder="Seu e-mail" required>
    <textarea name="message" placeholder="Sua mensagem" required></textarea>
    <div class="g-recaptcha" data-sitekey="6LfIsm8rAAAAAJimn8ers2DxgEwWjB5zoCiHPJTN"></div>
    <button type="submit">Enviar</button>
    <span id="contato-feedback" style="display:none;"></span>
  </form>
  <script>
    window.onload = function() {
      emailjs.init("UjjQ91NKSIB-4zNuN");
    };
    document.getElementById('form-contato').addEventListener('submit', function(event) {
      event.preventDefault();
      var recaptcha = grecaptcha.getResponse();
      var feedback = document.getElementById('contato-feedback');
      var btn = this.querySelector('button[type=submit]');
      feedback.style.display = 'none';
      feedback.textContent = '';
      feedback.style.color = 'green';
      if (!recaptcha) {
        feedback.textContent = 'Por favor, marque o reCAPTCHA.';
        feedback.style.color = 'red';
        feedback.style.display = 'inline';
        return;
      }
      btn.disabled = true;
      btn.textContent = 'Enviando...';
      emailjs.sendForm('service_blbkno6', 'template_n3u0el8', this)
        .then(function() {
          feedback.textContent = 'Mensagem enviada!';
          feedback.style.color = 'green';
          feedback.style.display = 'inline';
          btn.disabled = false;
          btn.textContent = 'Enviar';
          document.getElementById('form-contato').reset();
          grecaptcha.reset();
        }, function(error) {
          feedback.textContent = 'Falha ao enviar. Tente novamente.';
          feedback.style.color = 'red';
          feedback.style.display = 'inline';
          btn.disabled = false;
          btn.textContent = 'Enviar';
        });
    });
  </script>
</body>
</html>